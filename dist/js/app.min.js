!function(){"use strict";angular.module("app",["ui.router","ngStorage"]).constant("config",{URL:"https://idrissdidac.com",DIST:"/dist",IMAGES:{root:"/dist/images/",categories:"/dist/images/products/categories",projects:"/dist/images/products/projects"},DATA:"/dist/api/data.json",DOCUMENTS:"/dist//api/documents.json",SLIDES:"/dist/api/slides.json"})}(),function(t){"use strict";function e(t,e,n){e.otherwise("/"),t.state("home",{url:"/",templateUrl:"dist/views/main.html",controller:"controller.main",controllerAs:"vm"}).state("categories",{url:"/categories/:categorie/:subCategorie",templateUrl:"dist/views/categories.html",controller:"controller.categories",controllerAs:"vm"}).state("about",{url:"/about",templateUrl:"dist/views/about.html",controller:"controller.about",controllerAs:"vm"}).state("contact",{url:"/contact",templateUrl:"dist/views/contact.html",controller:"controller.contact",controllerAs:"vm"})}t.config(e),e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"]}(angular.module("app")),function(t){function e(t,e,n){function o(t){if("folder"==t.type){var e={path:t.path,name:t.name,id:t.id,type:t.type};return e.children=t.children.filter(function(t){return"folder"==t.type}).map(function(t){return o(t)}),e}}function r(){return a()}function a(){var o=e.getData();return o?(console.log("Data from cache"),o):t.get(n.DATA).then(function(t){return console.log("Data from server  "),e.saveData(t.data),t.data})}function i(){return a().then(function(t){return data=o(t),data.children})}function c(){return t.get(n.SLIDES).then(function(t){return t.data.slides})}function s(){return t.get(n.DOCUMENTS).then(function(t){return angular.forEach(t.data.docs,function(t){t.filename=l(t.path)}),t.data})}function l(t){var e=t.replace(/^.*[\\\/]/,"");return e.substring(0,e.indexOf("."))}return{getSlides:c,getDocuments:s,getSideBar:i,getData:r}}t.factory("dataservice",e),e.$inject=["$http","storage","config"]}(angular.module("app")),function(t){"use strict";function e(t,e){function n(){var n=e.defer(),o=t.idrissdata;return o?(n.resolve(o),n.promise):null}function o(e){t.idrissdata=e}return{getData:n,saveData:o}}t.factory("storage",e),e.$inject=["$localStorage","$q"]}(angular.module("app")),function(t){"use strict";function e(){}angular.module("app").factory("logger",e)}(angular.module("app")),function(t){"use strict";t.directive("resolveLoader",function(t,e){return{restrict:"E",replace:!0,template:'<div class="alert alert-success ng-hide"><strong>Welcome!</strong> Content is loading, please hold.</div>',link:function(n,o){t.$on("$routeChangeStart",function(t,n,r){r||e(function(){o.removeClass("ng-hide")})}),t.$on("$routeChangeSuccess",function(){o.addClass("ng-hide")})}}})}(angular.module("app")),function(t){"use strict";function e(t){var e=this;e.contents=t.DIST}t.controller("controller.about",e),e.$inject=["config"]}(angular.module("app")),function(t){"use strict";function e(t,e,n){function o(){n.getData().then(function(t){var t=t.children;angular.forEach(t,function(t){t.name===r.categorie&&(r.subCategorie?angular.forEach(t.children,function(t){t.name===r.subCategorie&&(this.products.all=t.children)},r):this.products.all=t.children)},r),r.products.gotoPage(1),console.log("Products",r.products)})}var r=this;r.products={page:1,all:[],products:[],gotoPage:function(t){var e=12*(t-1),n=e+12;n=n<this.total()?n:this.total(),this.products=this.all.slice(e,n),this.page=t},next:function(){var t=(this.page+1)%(this.totalPage()+1);console.log("next : ",t),t=t||1,this.gotoPage(t)},prior:function(){var t=(this.page-1)%this.totalPage();t=t||this.totalPage(),this.gotoPage(t)},total:function(){return this.all.length},totalPage:function(){return Math.ceil(this.total()/12)}},o(),r.categorie=e.categorie,r.subCategorie=e.subCategorie,console.log("Category selected ",e),r.contents=t.DIST}t.controller("controller.categories",e),e.$inject=["config","$stateParams","dataservice"]}(angular.module("app")),function(t){"use strict";function e(){}t.controller("controller.contact",e),e.$inject=[]}(angular.module("app")),function(t){"use strict";function e(t,e){var n=this;n.title="Documents à télécharger",n.documents={},n.contents=e.DIST,t.getDocuments().then(function(t){n.documents=t})}t.controller("controller.download",e),e.$inject=["dataservice","config"]}(angular.module("app")),function(t){"use strict";function e(t,e){function n(){o.contents=e.DIST,o.slides={list:[]}}var o=this;n()}t.controller("controller.main",e),e.$inject=["dataservice","config"]}(angular.module("app")),function(t){"use strict";function e(t,e){function n(){o.contents=e.DIST,o.categoryTitle="Categories",t.getSideBar().then(function(t){o.categories=t})}var o=this;n()}t.controller("controller.sidebar",e),e.$inject=["dataservice","config"]}(angular.module("app"));